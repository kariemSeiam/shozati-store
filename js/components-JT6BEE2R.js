import{r as e,j as a,a3 as t,w as s,i as r,C as i,L as l,a4 as n,a5 as o,P as c,a6 as d,a7 as m,I as x,a8 as h,a9 as u,aa as p,ab as b,ac as g,ad as y,$ as f,ae as v,af as j,R as w,X as N,M as C,ag as k,S,ah as P,ai as L,x as z,aj as O,ak as A,t as M,al as E,am as F,an as $,m as T,ao as X,ap as I,aq as H,h as Y,ar as R,as as _,g as D,l as V,at as B,H as q,N as U}from"./vendor-react-BJ-jiNb_.js";import{A as G,C as Q,u as J,a as K,b as W}from"./hooks-B5-bnaMF.js";const Z={hidden:{opacity:0},visible:{opacity:1}},ee={hidden:{y:"100%"},visible:{y:0,transition:{type:"tween",duration:.25,ease:[.25,.46,.45,.94]}}},ae=e.memo(({onClose:e,title:t,hideSupport:s,onSupportClick:r})=>a.jsx("div",{className:"pt-8 px-4 pb-4 border-b border-neutral-200 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:e,className:"p-2 rounded-xl bg-neutral-50 text-slate-600 hover:bg-neutral-100 hover:text-slate-800 transition-all duration-200",children:a.jsx(N,{className:"w-5 h-5"})}),a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:t}),s?a.jsx("div",{className:"w-9 h-9"}):a.jsx("button",{onClick:r,className:"p-2 rounded-xl bg-neutral-50 text-slate-600 hover:bg-neutral-100 hover:text-slate-800 transition-all duration-200",children:a.jsx(C,{className:"w-5 h-5"})})]})})),te=e.memo(({isOpen:t,onClose:s,title:r,children:i,maxHeight:l="90vh",hideSupport:c=!1})=>{const[d,m]=e.useState(!1),x=e.useCallback(()=>{m(!0)},[]),h=e.useCallback(e=>{e.target===e.currentTarget&&s()},[s]);return t?a.jsxs(a.Fragment,{children:[a.jsx(n,{mode:"wait",children:a.jsx(o.div,{variants:Z,initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:.2},className:"fixed inset-0 bg-slate-900/20 z-50",onClick:h,style:{backdropFilter:"blur(2px)"},children:a.jsx(o.div,{variants:ee,initial:"hidden",animate:"visible",exit:"hidden",className:"fixed inset-x-0 bottom-0",style:{willChange:"transform"},children:a.jsxs("div",{className:"bg-white rounded-t-3xl flex flex-col overflow-hidden shadow-xl",style:{maxHeight:l,background:"linear-gradient(180deg, #f8fafc 0%, #ffffff 100%)"},children:[a.jsx("div",{className:"flex justify-center pt-3 pb-1",children:a.jsx("div",{className:"w-12 h-1 rounded-full bg-neutral-300"})}),a.jsx(ae,{onClose:s,title:r,hideSupport:c,onSupportClick:x}),a.jsx("div",{className:"overflow-y-auto overscroll-contain hide-scrollbar flex-1",style:{contain:"layout style paint"},children:i})]})})},"backdrop")}),d&&a.jsx(re,{isOpen:d,onClose:()=>m(!1)})]}):null}),se=({isOpen:t,onClose:r,onOpenOrders:i,onOpenFavorites:l,onOpenLogin:n,onOpenLocation:o})=>{const{userInfo:v,updateProfile:j,addAddress:w,updateAddress:N,logout:C}=e.useContext(G),[k,S]=e.useState(!1),[P,L]=e.useState(!1),[z,O]=e.useState(!1),[A,M]=e.useState(!1),[E,F]=e.useState(!1),{isAuthenticated:$,login:T}=e.useContext(G),[X,I]=e.useState(!1),H=v?.addresses?.[0],Y=e.useMemo(()=>[{icon:c,label:"طلباتي",count:v?.ordersCount||0,onClick:i,color:"from-primary-100 to-primary-200"},{icon:d,label:"المفضلة",count:v?.favoritesCount||0,onClick:l,color:"from-primary-100 to-primary-200"}],[v?.ordersCount,v?.favoritesCount,i,l]),R=e.useMemo(()=>[{id:"name",icon:m,title:"الاسم",value:v?.name||"اضغط لإضافة اسم",onEdit:()=>S(!0)},{id:"phone",icon:s,title:"رقم الهاتف",value:v?.phone||"",onEdit:()=>O(!0)},{id:"location",icon:x,title:"عنوان التوصيل",value:H?`${H.district}، ${H.governorate}`:"اضغط لإضافة عنوان",details:H?.details,onEdit:()=>L(!0)}],[v,H]),_=e.useCallback(async e=>{try{F(!0),await j(e)}finally{F(!1)}},[j]),D=e.useCallback(async e=>{try{F(!0),v?.addresses?.length>0?await N(v.addresses[0].id,{...e,is_default:!0}):await w({...e,is_default:!0})}finally{F(!1)}},[v?.addresses,N,w]),V=e.useCallback(()=>{C(),r(),h.success("تم تسجيل الخروج بنجاح")},[C,r]);return a.jsxs(a.Fragment,{children:[a.jsx(te,{isOpen:t,onClose:r,title:"الملف الشخصي",children:a.jsxs("div",{className:"divide-y divide-slate-100/30",children:[a.jsxs("div",{className:"relative px-4 pt-8 pb-6 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary-50/80 to-white"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-r from-primary-500/10 to-primary-400/10 \n                  transform -skew-y-6"}),a.jsx("div",{className:"absolute top-20 right-0 w-32 h-32 bg-gradient-to-br from-primary-400/20 to-transparent \n                  rounded-full blur-2xl"}),a.jsx("div",{className:"absolute top-10 left-0 w-24 h-24 bg-gradient-to-br from-primary-400/20 to-transparent \n                  rounded-full blur-xl"}),a.jsxs("div",{className:"relative flex flex-col items-center",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-400 to-primary-500 \n                      rounded-full blur-xl opacity-20 group-hover:opacity-30 transition-opacity"}),a.jsx("div",{className:"absolute inset-0 rounded-full border border-primary-200/40 \n                      animate-[spin_8s_linear_infinite]"}),a.jsx("div",{className:"absolute inset-2 rounded-full border border-indigo-200/40 \n                      animate-[spin_12s_linear_infinite_reverse]"}),a.jsxs("div",{className:"relative w-24 h-24 rounded-full bg-gradient-to-br from-primary-400 via-primary-500 to-primary-600\n                        shadow-lg shadow-primary-200/50 flex items-center justify-center\n                        ring-2 ring-white ring-offset-2 ring-offset-primary-50 transform transition-all duration-300 \n                      group-hover:scale-105 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-600/10 via-transparent to-primary-700/10"}),a.jsx(m,{className:"w-12 h-12 text-white/95 relative z-10"}),a.jsx(u,{className:"absolute top-2 right-2 w-3 h-3 text-white/70 animate-pulse"}),a.jsx(p,{className:"absolute bottom-2 left-2 w-3 h-3 text-white/70 animate-pulse delay-300"})]})]}),a.jsxs("div",{className:"relative mt-4 text-center",children:[a.jsx("h3",{className:"text-xl font-bold text-neutral-800",children:v?.name||"مستخدم جديد"}),a.jsx("p",{className:"text-sm text-slate-500 mt-1",children:v?.phone})]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-3 mt-6",children:Y.map((e,t)=>a.jsxs("button",{onClick:e.onClick,className:"group relative overflow-hidden rounded-xl p-4 \n                        bg-white/80 backdrop-blur-sm border border-slate-100 shadow-sm \n                        hover:shadow-md hover:border-primary-200 transition-all duration-300 \n                        transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-50 to-primary-100 \n                        opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("div",{className:"relative flex items-center gap-3",children:[a.jsxs("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-primary-100 to-primary-200 \n                          flex items-center justify-center group-hover:scale-105 transition-transform\n                          shadow-sm group-hover:shadow-md relative overflow-hidden border border-primary-200/30",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/50 to-transparent"}),a.jsx(e.icon,{className:"w-5 h-5 text-primary-600 relative z-10 \n                            transform group-hover:rotate-12 transition-transform duration-300"})]}),a.jsxs("div",{className:"flex-1 text-right",children:[a.jsx("p",{className:"text-xs font-medium text-slate-500 mb-1",children:e.label}),a.jsx("p",{className:"text-lg font-bold text-slate-800 group-hover:text-primary-600\n                            transition-colors duration-300",children:e.count})]})]})]},t))})]}),a.jsxs("div",{className:"relative px-4 py-4 space-y-3",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white to-slate-50/50"}),R.map(e=>a.jsxs("div",{className:"group bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-slate-100\n                                              hover:border-primary-100 hover:shadow-lg transition-all duration-300\n                      relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-50 to-primary-100 \n                      opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-400/5 via-transparent to-primary-500/5 \n                      opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("div",{className:"relative flex items-center justify-between",children:[a.jsx("button",{onClick:e.onEdit,className:"p-2 rounded-lg bg-gradient-to-br from-primary-50 to-primary-100 hover:from-primary-100 hover:to-primary-200\n                          transition-all duration-300 group-hover:shadow-sm group border border-primary-200/50",children:a.jsx(b,{className:"w-3.5 h-3.5 text-primary-600 group-hover:rotate-12 transition-transform"})}),a.jsxs("div",{className:"flex items-center gap-3 text-right",children:[a.jsxs("div",{className:"transform group-hover:translate-x-1 transition-transform duration-300",children:[a.jsx("p",{className:"text-xs font-medium text-slate-500 mb-1",children:e.title}),a.jsx("p",{className:"text-sm font-bold text-slate-800 group-hover:text-primary-500\n                            transition-colors",children:e.value}),e.details&&a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:e.details})]}),a.jsxs("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-primary-100 to-primary-200 \n                          flex items-center justify-center group-hover:scale-105 transition-transform\n                          shadow-sm group-hover:shadow-md relative overflow-hidden border border-primary-200/30",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/50 to-transparent"}),a.jsx(e.icon,{className:"w-5 h-5 text-primary-600 relative z-10 \n                            transform group-hover:rotate-12 transition-transform duration-300"})]})]})]})]},e.id))]}),a.jsxs("div",{className:"relative p-4 space-y-3",dir:"rtl",children:[a.jsxs("button",{onClick:()=>M(!0),className:"w-full bg-gradient-to-r from-primary-50 via-primary-100 to-primary-50 \n                    rounded-xl p-4 flex items-center justify-between group\n                    hover:shadow-lg transition-all duration-300 relative overflow-hidden border border-primary-200/30",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-100/50 to-primary-200/50 \n                    opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsxs("div",{className:"relative flex items-center gap-3",children:[a.jsxs("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-primary-100 to-primary-200 \n                      flex items-center justify-center group-hover:scale-105 transition-transform\n                      shadow-sm group-hover:shadow-md relative overflow-hidden border border-primary-200/30",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/50 to-transparent"}),a.jsx(g,{className:"w-5 h-5 text-primary-600 relative z-10 \n                        transform group-hover:rotate-12 transition-transform duration-300"})]}),a.jsx("span",{className:"font-bold text-base text-neutral-800 group-hover:translate-x-1 transition-transform duration-300",children:"الدعم والمساعدة"})]}),a.jsx(y,{className:"w-5 h-5 text-slate-400 group-hover:translate-x-2 \ntransition-transform duration-300"})]}),a.jsxs("button",{onClick:V,className:"w-full bg-gradient-to-r from-rose-50 to-rose-100/80 text-rose-500 \n                    rounded-xl py-3 px-4 font-bold hover:shadow-lg active:bg-rose-200 \n                    transition-all duration-300 flex items-center justify-center gap-2\n                    relative overflow-hidden group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-rose-100 to-rose-200/50 \n                    opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx(f,{className:"w-5 h-5 relative transform group-hover:rotate-12 \n                    transition-transform duration-300"}),a.jsx("span",{className:"text-base relative group-hover:translate-x-0.5 \n                    transition-transform duration-300",children:"تسجيل الخروج"})]})]})]})}),a.jsx(ie,{isOpen:k,onClose:()=>S(!1),onUpdate:_,initialName:v?.name||""}),a.jsx(le,{isOpen:P,onClose:()=>L(!1),onUpdate:D,initialAddress:H}),a.jsx(ne,{isOpen:z,onClose:()=>O(!1),onVerified:async e=>{F(!0);try{await T(e.phone_number)&&I(!1)}catch(a){throw h.error(a.message||"فشل تسجيل الدخول"),a}finally{F(!1)}},savedPhone:v?.phone||""}),a.jsx(re,{isOpen:A,onClose:()=>M(!1)})]})},re=({isOpen:e,onClose:t})=>{const r=[{icon:S,title:"تشكيلة واسعة",description:"أحدث موديلات الأحذية العصرية للرجال والنساء",color:"bg-primary-100 text-primary-600"},{icon:p,title:"جودة مضمونة",description:"منتجات أصلية 100% مع ضمان الجودة",color:"bg-secondary-100 text-secondary-600"},{icon:P,title:"توصيل سريع",description:"شحن لجميع المحافظات خلال 2-4 أيام",color:"bg-primary-100 text-primary-600"},{icon:L,title:"ضمان الاسترجاع",description:"استرجاع مجاني خلال 14 يوم",color:"bg-secondary-100 text-secondary-600"}],i=[{name:"Facebook",icon:O,color:"bg-primary-100 text-primary-600",url:"https://facebook.com/shozati"},{name:"Instagram",icon:A,color:"bg-secondary-100 text-secondary-600",url:"https://instagram.com/shozati"},{name:"TikTok",icon:()=>a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1.04-.1z"})}),color:"bg-primary-100 text-primary-600",url:"https://tiktok.com/@shozati"}],l=[{icon:C,label:"تحدث معنا",color:"bg-secondary-100 text-secondary-600",onClick:()=>{window.open("https://wa.me/+201033939828","_blank")}},{icon:s,label:"اتصل بنا",color:"bg-primary-100 text-primary-600",onClick:()=>{window.open("tel:+201033939828","_blank")}},{icon:z,label:"نسخ الرقم",color:"bg-secondary-100 text-secondary-600",onClick:()=>{navigator.clipboard.writeText("+201033939828"),h.success("تم نسخ رقم الهاتف")}}];return a.jsx(te,{isOpen:e,onClose:t,title:"مركز المساعدة | Trendy Corner",hideSupport:!0,children:a.jsxs("div",{className:"p-6 space-y-8",dir:"rtl",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(k,{className:"w-6 h-6 text-rose-600"}),a.jsx("h4",{className:"text-lg font-bold text-neutral-800",children:"مرحباً بك في Trendy Corner"})]}),a.jsx("p",{className:"text-slate-600 leading-relaxed",children:"نحن متخصصون في تقديم أرقى تشكيلات الأحذية العصرية بجودة استثنائية وأسعار منافسة. نسعى دائماً لتقديم تجربة تسوق فريدة مع خدمة عملاء احترافية على مدار الساعة."})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.map((e,t)=>a.jsxs("div",{className:`${e.color} rounded-xl p-4 space-y-2 shadow-sm`,children:[a.jsx(e.icon,{className:"w-6 h-6"}),a.jsx("h5",{className:"font-bold text-neutral-800",children:e.title}),a.jsx("p",{className:"text-sm text-slate-600",children:e.description})]},t))}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:l.map((e,t)=>a.jsxs("button",{onClick:e.onClick,className:`${e.color} rounded-xl p-4 flex flex-col items-center gap-2 \n                            hover:brightness-105 transition-all duration-300 shadow-sm hover:shadow-md`,children:[a.jsx(e.icon,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm text-neutral-800 text-center whitespace-nowrap",children:e.label})]},t))}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-bold text-neutral-800",children:"تابعنا على مواقع التواصل"}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:i.map((e,t)=>a.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:`${e.color} rounded-xl p-4 flex flex-col items-center gap-2\n                                hover:brightness-105 transition-all duration-300 shadow-sm hover:shadow-md`,children:[a.jsx(e.icon,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm font-medium text-neutral-800",children:e.name})]},t))})]}),a.jsx("div",{className:"bg-gradient-to-r from-rose-100 to-purple-100 rounded-xl p-4 shadow-sm",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(M,{className:"w-6 h-6 text-rose-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-neutral-800 mb-1",children:"مواعيد العمل"}),a.jsxs("p",{className:"text-sm text-slate-600",children:["طوال أيام الأسبوع",a.jsx("br",{}),"من 10 صباحاً حتى 11 مساءً"]})]})]})})]})})},ie=({isOpen:t,onClose:s,onUpdate:r,initialName:i=""})=>{const[n,o]=e.useState(i),[c,d]=e.useState(!1);return e.useEffect(()=>{o(i)},[i,t]),a.jsx(te,{isOpen:t,onClose:s,title:"تحديث الاسم",children:a.jsx("div",{className:"p-6 space-y-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"relative",children:a.jsx("input",{type:"text",placeholder:"أدخل اسمك",value:n,onChange:e=>o(e.target.value),className:"w-full bg-primary-50 text-primary-800 rounded-xl p-4\n                         text-right text-lg border border-primary-100\n                         focus:ring-4 focus:ring-primary-500/20 focus:border-primary-500\n                         placeholder-primary-400 transition-all duration-300"})}),a.jsx("button",{onClick:async()=>{if(n.trim())try{d(!0),await r({name:n}),h.success("تم تحديث الاسم بنجاح"),s()}catch(e){h.error(e.message||"فشل تحديث الاسم")}finally{d(!1)}else h.error("يرجى إدخال الاسم")},disabled:!n.trim()||c,className:"w-full bg-gradient-to-r from-primary-500 to-primary-600 text-white \n                                 rounded-xl py-4 font-bold uppercase tracking-wider\n                                 disabled:opacity-50 disabled:cursor-not-allowed\n                                 hover:from-primary-500 hover:to-primary-600 \n                                 transition-all duration-300 transform hover:-translate-y-0.5\n                                 shadow-sm hover:shadow-md",children:c?a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(l,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{children:"جاري التحديث..."})]}):"تحديث الاسم"})]})})})},le=({isOpen:t,onClose:s,onUpdate:i,initialAddress:n=null})=>{const[o,c]=e.useState(1),[d,m]=e.useState({governorate:n?.governorate||"",district:n?.district||"",details:n?.details||""}),[h,u]=e.useState(!1);e.useEffect(()=>{t&&(c(1),m({governorate:n?.governorate||"",district:n?.district||"",details:n?.details||""}))},[t,n]);const p=[{id:1,field:"governorate",label:"المحافظة",icon:x,placeholder:"اختر المحافظة"},{id:2,field:"district",label:"المدينة",icon:v,placeholder:"اختر المدينة"},{id:3,field:"details",label:"العنوان بالتفصيل",icon:j,placeholder:"ادخل العنوان بالتفصيل"}];return a.jsx(te,{isOpen:t,onClose:s,title:"تحديث العنوان",children:a.jsxs("div",{className:"p-6 space-y-6",dir:"rtl",children:[a.jsx("div",{className:"flex justify-center",children:p.map((e,t)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center\n                                       "+(o===e.id?"bg-primary-500 text-white":o>e.id?"bg-primary-200 text-primary-600":"bg-primary-50 text-primary-400"),children:o>e.id?a.jsx(r,{className:"w-4 h-4"}):e.id}),t<p.length-1&&a.jsx("div",{className:"h-0.5 w-16 \n                                          "+(o>e.id?"bg-primary-200":"bg-primary-50")})]},e.id))}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[w.createElement(p[o-1].icon,{className:"w-6 h-6 text-primary-500"}),a.jsx("h3",{className:"text-xl font-bold text-primary-800",children:p[o-1].label})]}),a.jsx("input",{type:"text",value:d[p[o-1].field],onChange:e=>m(a=>({...a,[p[o-1].field]:e.target.value})),placeholder:p[o-1].placeholder,className:"w-full bg-primary-50 text-primary-800 rounded-xl p-4\n                                 text-right border border-primary-100\n                                 focus:ring-4 focus:ring-primary-500/20 focus:border-primary-500\n                                 placeholder-primary-400 transition-all duration-300"})]}),a.jsxs("div",{className:"flex gap-3",children:[o>1&&a.jsx("button",{onClick:()=>c(e=>e-1),className:"flex-1 bg-primary-50 text-primary-700 rounded-xl py-3\n                                   hover:bg-primary-100 transition-colors border border-primary-100",children:"السابق"}),a.jsx("button",{onClick:async()=>{if(o<p.length)c(e=>e+1);else try{u(!0),await i(d),s()}catch(e){}finally{u(!1)}},disabled:!d[p[o-1].field]||h,className:"flex-1 bg-gradient-to-r from-primary-500 to-primary-600 \n                                 text-white rounded-xl py-3 font-bold disabled:opacity-50\n                                 hover:from-primary-500 hover:to-primary-600 \n                                 transition-all duration-300 shadow-sm hover:shadow-md",children:h?a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(l,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{children:"جاري الحفظ..."})]}):o===p.length?"حفظ":"التالي"})]})]})})},ne=({isOpen:n,onClose:o,onVerified:c,loading:d,savedPhone:m="",isLogin:x=!1})=>{const[u,p]=e.useState(m),[b,g]=e.useState(!1),[y,f]=e.useState(!1);return e.useEffect(()=>{const e=/^01[0125][0-9]{8}$/.test(u);f(e)},[u]),a.jsx(te,{isOpen:n,onClose:o,title:x?"تسجيل الدخول":"تحديث رقم الهاتف",hideSupport:x,children:a.jsxs("div",{className:"p-6 space-y-8",children:[a.jsxs("div",{className:"w-24 h-24 rounded-full mx-auto \n                    flex items-center justify-center relative overflow-hidden\n                    bg-gradient-to-br from-primary-400 to-primary-500 shadow-md",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary-900/10 to-transparent"}),x?a.jsx(t,{className:"w-12 h-12 text-white relative z-10"}):a.jsx(s,{className:"w-12 h-12 text-white relative z-10"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h4",{className:"text-xl font-bold text-primary-800 mb-2",children:x?"مرحباً بك":"تحديث رقم الهاتف"}),a.jsx("p",{className:"text-slate-500 mb-2",children:x?"قم بإدخال رقم هاتفك للمتابعة":"أدخل رقم هاتفك الجديد"}),a.jsx("p",{className:"text-sm text-primary-500",children:"يفضل إدخال رقم الواتساب لتسهيل التواصل"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:u,onChange:e=>p(e.target.value),className:"w-full bg-primary-50 text-primary-800 rounded-xl p-4 \n                                text-center text-xl tracking-wide border border-primary-100\n                                focus:ring-4 focus:ring-primary-500/20 focus:border-primary-500\n                                placeholder-primary-300 transition-all duration-300",dir:"ltr"}),u&&a.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:y?a.jsx(r,{className:"w-6 h-6 text-green-500 animate-pulse"}):a.jsx(i,{className:"w-6 h-6 text-red-500 animate-pulse"})})]}),a.jsx("button",{onClick:async()=>{try{g(!0),await c({phone_number:u}),h.success(x?"تم تسجيل الدخول بنجاح":"تم تحديث رقم الهاتف بنجاح"),o()}catch(e){h.error(e.message||(x?"فشل تسجيل الدخول":"فشل تحديث رقم الهاتف"))}finally{g(!1)}},disabled:!y||b||d,className:"w-full text-white rounded-xl py-4 font-bold \n                            uppercase tracking-wider disabled:opacity-50 \n                            disabled:cursor-not-allowed transition-all duration-300 \n                            transform hover:-translate-y-0.5 shadow-sm hover:shadow-md\n                                                      bg-gradient-to-r from-primary-500 to-primary-600\n                          hover:from-primary-500 hover:to-primary-600",children:b||d?a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(l,{className:"w-5 h-5 animate-spin"}),a.jsx("span",{children:x?"جاري تسجيل الدخول...":"جاري التحديث..."})]}):x?"تسجيل الدخول":"تحديث رقم الهاتف"})]})]})})},oe={initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0}},ce=w.memo(({quantity:e})=>a.jsx("div",{className:"absolute -top-2 -right-2",children:a.jsx(o.div,{variants:oe,initial:"initial",animate:"animate",exit:"exit",className:"w-6 h-6 rounded-full bg-gradient-primary\r\n                flex items-center justify-center shadow-lg",children:a.jsx("span",{className:"text-white text-xs font-bold",children:e>99?"99+":e})})}));ce.displayName="QuantityBadge";const de=w.memo(({onFavoritesClick:t,onCartClick:s})=>{const{cart:r}=e.useContext(Q),i=w.useMemo(()=>r?.reduce((e,a)=>e+a.quantity,0)||0,[r]);return a.jsxs("div",{className:"fixed bottom-6 right-6 flex flex-col gap-4 z-20",role:"group","aria-label":"Floating actions",children:[a.jsx("button",{onClick:t,className:"w-14 h-14 rounded-full bg-gradient-primary \r\n                   flex items-center justify-center shadow-floating\r\n                   hover:scale-105 active:scale-95 transition-transform duration-200","aria-label":"Favorites",children:a.jsx(d,{className:"w-6 h-6 text-white"})}),a.jsxs("button",{onClick:s,className:"relative w-14 h-14 rounded-full bg-gradient-primary \r\n                   flex items-center justify-center shadow-floating\r\n                   hover:scale-105 active:scale-95 transition-transform duration-200","aria-label":`Cart with ${i} items`,children:[a.jsx(E,{className:"w-6 h-6 text-white"}),i>0&&a.jsx(ce,{quantity:i})]})]})});de.displayName="FloatingActions";const me=({isOpen:t,onClose:s,imageUrl:r})=>{const[i,l]=e.useState({scale:1,translateX:0,translateY:0}),n=e.useRef(null),o=e.useRef(null),c=e.useRef([]),d=e.useRef(null),m=e.useRef({scale:1,translateX:0,translateY:0}),x=e.useRef({time:0,x:0,y:0}),h=e.useRef({x:0,y:0}),u=e.useRef(Date.now()),p=e.useRef(null),b=e.useRef({x:0,y:0}),g=e.useCallback(()=>{if(!o.current||!n.current)return;const e=n.current.getBoundingClientRect(),a=o.current.getBoundingClientRect(),t=a.width*i.scale,s=a.height*i.scale;b.current={x:Math.max(0,(t-e.width)/2),y:Math.max(0,(s-e.height)/2)}},[i.scale]),y=e.useCallback((e,a)=>{const t=a.clientX-e.clientX,s=a.clientY-e.clientY;return Math.sqrt(t*t+s*s)},[]),f=e.useCallback((e,a)=>({x:(e.clientX+a.clientX)/2,y:(e.clientY+a.clientY)/2}),[]),v=e.useCallback((e,a)=>{const{x:t,y:s}=b.current;return{x:Math.max(-t,Math.min(t,e)),y:Math.max(-s,Math.min(s,a))}},[]),j=e.useCallback(()=>{Math.abs(h.current.x)<.01&&Math.abs(h.current.y)<.01?cancelAnimationFrame(p.current):(l(e=>{const a=e.translateX+h.current.x,t=e.translateY+h.current.y,s=v(a,t);return h.current.x*=.95,h.current.y*=.95,{...e,translateX:s.x,translateY:s.y}}),p.current=requestAnimationFrame(j))},[v]),w=e.useCallback((e,a)=>{const t=Date.now(),s=x.current;t-s.time<300&&Math.abs(e-s.x)<30&&Math.abs(a-s.y)<30?(l(e=>({scale:1===e.scale?2.5:1,translateX:0,translateY:0})),x.current={time:0,x:0,y:0}):x.current={time:t,x:e,y:a}},[]),C=e.useCallback(e=>{cancelAnimationFrame(p.current),h.current={x:0,y:0},c.current=[...e.touches],u.current=Date.now(),1===e.touches.length&&w(e.touches[0].clientX,e.touches[0].clientY),2===e.touches.length&&(d.current=y(e.touches[0],e.touches[1]),m.current=i)},[y,w,i]),k=e.useCallback(e=>{e.preventDefault();const a=Date.now(),t=a-u.current;if(1===e.touches.length&&i.scale>1){const a=e.touches[0],s=c.current[0];if(s){const e=a.clientX-s.clientX,r=a.clientY-s.clientY;h.current={x:e/t*16,y:r/t*16},l(a=>{const t=a.translateX+e,s=a.translateY+r,i=v(t,s);return{...a,translateX:i.x,translateY:i.y}})}}if(2===e.touches.length){const a=y(e.touches[0],e.touches[1]),t=d.current,s=f(e.touches[0],e.touches[1]);if(t){const e=Math.min(Math.max(m.current.scale*(a/t),1),5),r=n.current?.getBoundingClientRect();if(r){const a=s.x-r.left-r.width/2,t=s.y-r.top-r.height/2;l(s=>({scale:e,translateX:1===e?0:a*(e/s.scale-1)+s.translateX,translateY:1===e?0:t*(e/s.scale-1)+s.translateY}))}}}c.current=[...e.touches],u.current=a},[v,y,f,i.scale]),S=e.useCallback(e=>{0===e.touches.length&&i.scale>1&&j(),0===e.touches.length&&(d.current=null),c.current=[...e.touches]},[j,i.scale]);e.useEffect(()=>{if(t&&n.current){const e=n.current;return e.addEventListener("touchstart",C,{passive:!0}),e.addEventListener("touchmove",k,{passive:!1}),e.addEventListener("touchend",S,{passive:!0}),()=>{e.removeEventListener("touchstart",C),e.removeEventListener("touchmove",k),e.removeEventListener("touchend",S)}}},[t,C,k,S]),e.useEffect(()=>{g()},[g,i.scale]),e.useEffect(()=>(t||(l({scale:1,translateX:0,translateY:0}),m.current={scale:1,translateX:0,translateY:0},cancelAnimationFrame(p.current)),()=>cancelAnimationFrame(p.current)),[t]);const P=e.useCallback(()=>{l(e=>({...e,scale:Math.min(e.scale+.5,5)}))},[]),L=e.useCallback(()=>{l(e=>({scale:Math.max(e.scale-.5,1),translateX:e.scale<=1.5?0:e.translateX,translateY:e.scale<=1.5?0:e.translateY}))},[]);return t?a.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 backdrop-blur-lg",children:[a.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 rounded-full bg-black/20 text-white\r\n                 hover:bg-black/30 transition-all duration-200 z-50 hover:scale-105",children:a.jsx(N,{className:"w-6 h-6"})}),a.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-50",children:[a.jsx("button",{onClick:L,disabled:1===i.scale,className:"p-3 rounded-full bg-black/20 text-white hover:bg-black/30 \r\n                   transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\r\n                   hover:scale-105",children:a.jsx(F,{className:"w-6 h-6"})}),a.jsx("button",{onClick:P,disabled:5===i.scale,className:"p-3 rounded-full bg-black/20 text-white hover:bg-black/30 \r\n                   transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\r\n                   hover:scale-105",children:a.jsx($,{className:"w-6 h-6"})})]}),a.jsxs("div",{ref:n,className:"w-full h-full flex items-center justify-center overflow-hidden touch-none",children:[1===i.scale&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:a.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-full px-6 py-3 text-white/80",children:"Double tap or pinch to zoom"})}),a.jsx("img",{ref:o,src:r,alt:"Product view",className:"max-w-full max-h-full object-contain select-none will-change-transform",style:{transform:`scale(${i.scale}) translate(${i.translateX/i.scale}px, ${i.translateY/i.scale}px)`,transition:1===i.scale?"transform 0.3s ease-out":"none"},draggable:"false"})]})]}):null},xe=e=>new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),he={_cache:new Set,preload(e){return!e||this._cache.has(e)?Promise.resolve():new Promise((a,t)=>{const s=new Image;s.onload=()=>{this._cache.add(e),a(e)},s.onerror=t,s.src=e})},preloadBatch(e=[],a=[]){return e.length?Promise.all(a.map(e=>this.preload(e))):Promise.resolve()},isLoaded(e){return this._cache.has(e)}},ue=e.memo(({variants:t,selectedVariant:s,onVariantSelect:i,showCollapsed:l=!0,maxVisible:n=10})=>{const[c,d]=e.useState(!1),m=l&&t.length>n,x=c?t:t.slice(0,n),h=t.length-n;return e.useEffect(()=>{const e=t.map(e=>e.images[0]);he.preloadBatch(e,[s?.images[0]])},[t,s]),a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar py-1 px-1",dir:"rtl",children:[x.map(e=>a.jsxs(o.button,{onClick:()=>i(e),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"relative p-0.5 rounded-full transition-all "+(s?.id===e.id?"ring-2 ring-primary-500 ring-offset-1 ring-offset-white":""),children:[a.jsx("div",{className:"w-6 h-6 rounded-full border border-neutral-200 shadow-sm",style:{backgroundColor:e.colorCode}}),s?.id===e.id&&a.jsx(o.div,{layoutId:"selectedColor",className:"absolute inset-0 flex items-center justify-center",children:a.jsx(r,{className:"w-3 h-3 text-white drop-shadow"})})]},e.id)),m&&!c&&a.jsx(o.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!0),className:"flex items-center justify-center px-2 py-1 rounded-full \n                            bg-neutral-100 hover:bg-neutral-200 transition-colors border \n                            border-neutral-200 shadow-sm",children:a.jsxs("span",{className:"text-xs text-neutral-600",children:["+",h]})}),m&&c&&a.jsx(o.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!1),className:"flex items-center justify-center px-2 rounded-full \n                            hover:bg-neutral-100 transition-colors",children:a.jsx(D,{className:"w-4 h-4 text-neutral-400"})})]})})}),pe=e.memo(({sizes:t,selectedSize:s,onSizeSelect:r})=>{const i=e.useMemo(()=>(e=>{const a={35:1,36:2,37:3,38:4,39:5,40:6,41:7,42:8,43:9,44:10,45:11,XXS:1,XS:2,S:3,M:4,L:5,XL:6,XXL:7,"2XL":7,"3XL":8,"4XL":9,"٣٥":1,"٣٦":2,"٣٧":3,"٣٨":4,"٣٩":5,"٤٠":6,"٤١":7,"٤٢":8,"٤٣":9,"٤٤":10,"٤٥":11};return[...e].sort((e,t)=>{const s=e.size.toString().toUpperCase(),r=t.size.toString().toUpperCase();if(void 0!==a[s]&&void 0!==a[r])return a[s]-a[r];const i=parseFloat(s),l=parseFloat(r);return isNaN(i)||isNaN(l)?s.localeCompare(r):i-l})})(t),[t]);return a.jsx("div",{className:"grid grid-cols-4 gap-2",children:i.map(e=>a.jsxs("button",{onClick:()=>e.inStock&&r(e),disabled:!e.inStock,className:"relative p-4 mb-6 rounded-xl font-bold text-sm transition-all\n                        "+(e.inStock?s?.size===e.size?"bg-gradient-to-r from-primary-500 to-primary-600 text-white ring-2 ring-primary-500/50 shadow-lg":"bg-white text-slate-800 hover:bg-neutral-50 border border-neutral-200 shadow-sm":"bg-neutral-50 text-neutral-400 cursor-not-allowed border border-neutral-200"),children:[e.size,!e.inStock&&a.jsx("span",{className:"absolute -bottom-6 right-1/2 translate-x-1/2 \n                                    text-xs text-rose-500 whitespace-nowrap",children:"نفذت الكمية"})]},e.size))})});ue.displayName="ColorSelector",pe.displayName="SizeSelector";const be=e.memo(({rating:t,tag:s,tagColor:r})=>{const i=e.useMemo(()=>{if(!r)return null;const e=parseInt(r.slice(1,3),16),a=parseInt(r.slice(3,5),16),t=parseInt(r.slice(5,7),16);return{lighter:`rgba(${e+.2*(255-e)}, ${a+.2*(255-a)}, ${t+.2*(255-t)}, 0.9)`,darker:`rgba(${.8*e}, ${.8*a}, ${.8*t}, 1)`}},[r]),l=e.useMemo(()=>r?(e=>{const a=e.replace("#","");return parseInt(a.substr(0,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(4,2),16),"text-white"})(r):"text-white",[r]);return a.jsxs("div",{className:"absolute top-4 right-3 flex flex-col gap-2 z-10",children:[t>0&&a.jsxs(o.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,type:"spring"},className:"bg-gradient-to-r from-white/95 to-white/85\n                       backdrop-blur-md rounded-full px-3 py-1.5\n                       shadow-lg shadow-blue-100/30 \n                       border border-blue-100/50\n                       hover:border-blue-200/60\n                       hover:shadow-xl hover:shadow-blue-100/40\n                       flex items-center gap-1.5\n                       transition-all duration-300",children:[a.jsx(p,{className:"w-4 h-4 text-blue-500 fill-blue-400"}),a.jsx("span",{className:"text-sm font-semibold bg-gradient-to-r \n                           from-blue-600 to-blue-500\n                           bg-clip-text text-transparent",children:t.toFixed(1)})]}),s&&r&&a.jsx(o.div,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,type:"spring"},className:"relative overflow-hidden",children:a.jsx("div",{className:"rounded-full px-3 py-1.5 text-sm font-medium\n                         shadow-lg backdrop-blur-md\n                         hover:shadow-xl transition-all duration-300\n                         flex items-center gap-2",style:{background:`linear-gradient(to right, ${r}, ${i?.lighter})`,boxShadow:`0 4px 6px -1px ${r}20, 0 2px 4px -1px ${r}10`},children:a.jsx("span",{className:`relative ${l}`,children:s})})})]})});be.displayName="Badges";const ge=e.memo(({src:t,alt:s,className:r,onLoad:i,fallback:l=null,loadingClass:n=""})=>{const[o,c]=e.useState(!he.isLoaded(t)),[d,m]=e.useState(!1),x=e.useRef(null);return e.useEffect(()=>{c(!he.isLoaded(t)),m(!1);const e=()=>{c(!1),i&&i()},a=()=>{c(!1),m(!0)},s=x.current;if(s)return s.addEventListener("load",e),s.addEventListener("error",a),()=>{s.removeEventListener("load",e),s.removeEventListener("error",a)}},[t,i]),e.useEffect(()=>{const e=new IntersectionObserver(([a])=>{a.isIntersecting&&(he.preload(t).then(()=>c(!1)).catch(()=>m(!0)),e.disconnect())},{threshold:.1,rootMargin:"200px"});return x.current&&e.observe(x.current),()=>e.disconnect()},[t]),a.jsxs("div",{className:`relative ${r}`,children:[o&&a.jsx("div",{className:`absolute inset-0 flex items-center justify-center bg-neutral-100/50 ${n}`,children:a.jsx("div",{className:"w-8 h-8 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})}),a.jsx("img",{ref:x,src:t,alt:s,className:`w-full h-full object-cover ${o?"opacity-0":"opacity-100"} transition-opacity duration-300`,loading:"lazy"}),d&&l]})});ge.displayName="LazyImage";const ye=e.memo(({product:t,onSelect:s,checkAuthAndProceed:r})=>{const{isAuthenticated:i}=e.useContext(G),[c,m]=e.useState(t.variants[0]),[x,h]=e.useState(0),[u,p]=e.useState(!1),[b,g]=e.useState(!1),[y,f]=e.useState(!1),[v,j]=e.useState({}),{getFavoriteStatus:w,toggleFavorite:N,isPending:C}=K(),k=w(t.id),S=C(t.id),P=e.useRef(null);e.useEffect(()=>{const e=c.images[x];if(he.preload(e),P.current&&clearTimeout(P.current),c.images.length>1){const e=(x+1)%c.images.length;P.current=setTimeout(()=>{he.preload(c.images[e])},300)}return()=>{P.current&&clearTimeout(P.current)}},[c,x]),e.useEffect(()=>{if(c.images.length<=1||y||u)return;const e=setInterval(()=>{h(e=>(e+1)%c.images.length)},3e3);return()=>clearInterval(e)},[c.images.length,y,u]);const L=e.useCallback(e=>{j(a=>({...a,[e]:!0}))},[]),z=e.useCallback(async e=>{e.stopPropagation(),await r({requiresAuth:!0,onSuccess:async()=>{await N(t.id)}})},[r,t.id,N]),O=e.useCallback(()=>g(!0),[]),A=e.useCallback(()=>g(!1),[]),M=e.useCallback(e=>{const a=(x+e+c.images.length)%c.images.length;h(a)},[x,c.images.length]),E=e.useCallback(e=>{e.id!==c.id&&(p(!0),he.preload(e.images[0]).then(()=>{m(e),h(0),setTimeout(()=>p(!1),300)}).catch(()=>{m(e),h(0),setTimeout(()=>p(!1),300)}))},[c]);return a.jsxs(o.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},whileHover:{scale:1.02,transition:{duration:.3,ease:"easeOut"}},whileTap:{scale:.98},onTapStart:O,onTapEnd:A,className:"relative overflow-hidden group",onClick:()=>s(t),style:{willChange:"transform, opacity"},children:[a.jsxs("div",{className:"relative bg-gradient-to-br from-white via-primary-50/30 to-primary-100/20\n                          rounded-3xl border border-primary-100/60 overflow-hidden\n                          shadow-lg shadow-primary-100/20 hover:shadow-xl hover:shadow-primary-200/30\n                          transition-all duration-500",children:[a.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden",children:[a.jsx(o.div,{animate:{scale:b?1.05:1,transition:{duration:.4,type:"spring"}},className:"absolute inset-0",children:a.jsx(n,{mode:"wait",children:a.jsx(o.div,{initial:{opacity:0,scale:1.05},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,type:"spring"},className:"w-full h-full",children:a.jsx(ge,{src:c.images[x],alt:t.name,className:"w-full h-full",onLoad:()=>L(c.images[x]),loadingClass:"bg-neutral-100/80",fallback:a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-neutral-100",children:a.jsx("div",{className:"text-neutral-400",children:"صورة غير متوفرة"})})})},`${c.id}-${x}`)})}),a.jsx(o.div,{className:"absolute inset-0 bg-gradient-to-t from-white/90 via-white/20 to-white/10\n                                 backdrop-blur-sm opacity-0 group-hover:opacity-100\n                                 transition-all duration-700"}),c.images.length>1&&a.jsx("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 \n                                      flex justify-between px-2 opacity-0 group-hover:opacity-100\n                                      transition-opacity duration-300",children:[D,D].map((e,t)=>a.jsx(o.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e=>{e.stopPropagation(),M(0===t?-1:1)},className:"bg-white/80 backdrop-blur-md p-2 rounded-full\n                                             shadow-lg shadow-primary-100/30 border border-primary-100/60",children:a.jsx(e,{className:"w-5 h-5 text-primary-600 "+(0===t?"rotate-90":"-rotate-90")})},t))}),a.jsx(be,{rating:t.rating,tag:t.tag,tagColor:t.tagColor}),i&&a.jsx(o.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:z,className:"absolute top-3 left-3 p-3 rounded-full z-10\n                                      backdrop-blur-md transition-all duration-500\n                                      "+(k?"bg-rose-50/90 shadow-lg shadow-rose-200/50":"bg-white/90 shadow-lg shadow-primary-200/30"),children:S?a.jsx(l,{className:"w-5 h-5 text-primary-500 animate-spin"}):a.jsx(d,{className:"w-5 h-5 transition-all duration-500\n                                              "+(k?"text-rose-500 fill-rose-500 scale-110":"text-neutral-600 hover:text-rose-500")})}),a.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 z-10",children:a.jsx(o.div,{whileHover:{y:-4},className:"backdrop-blur-md rounded-full p-1\n                                     shadow-sm shadow-primary-100/30 border border-primary-100/50",children:a.jsx(ue,{variants:t.variants,selectedVariant:c,onVariantSelect:E,showCollapsed:!0,maxVisible:3})})})]}),a.jsxs("div",{className:"relative px-4 py-2 pt-3 pb-4 space-y-3 bg-white/80 backdrop-blur-md",children:[a.jsx(o.div,{className:"relative",children:a.jsx("h3",{className:"font-bold text-base line-clamp-2 text-right\n                                     bg-gradient-to-r from-primary-900 to-primary-700\n                                     bg-clip-text text-transparent",children:t.name})}),a.jsxs("div",{className:"flex items-baseline gap-2 justify-end",children:[a.jsx(o.span,{className:"text-lg font-bold bg-gradient-to-r \n                                     from-primary-600 to-primary-500\n                                     bg-clip-text text-transparent",whileHover:{scale:1.05},children:xe(t.discountPrice||t.basePrice)}),t.discountPrice&&a.jsx("span",{className:"text-sm text-primary-400/90 line-through",children:xe(t.basePrice)})]})]})]}),a.jsx(o.div,{className:"absolute inset-0 bg-primary-100/20 rounded-3xl pointer-events-none",initial:{scale:0,opacity:0},animate:{scale:b?1.2:0,opacity:b?1:0},transition:{duration:.3,type:"spring"},style:{willChange:"transform, opacity"}})]})});ye.displayName="ProductCard";const fe=e.memo(({products:t,loading:s,error:r,onLoadMore:n,onProductSelect:o,checkAuthAndProceed:c})=>{e.useRef(null);const d=e.useRef(null),[m,x]=e.useState(null),{refresh:h}=J(),u=e.useRef(null),[p,b]=e.useState({start:0,end:20}),g=t?.length>20;e.useEffect(()=>{const e=new IntersectionObserver(e=>{e[0].isIntersecting&&!s&&n()},{threshold:.1,rootMargin:"200px"}),a=d.current;return a&&e.observe(a),()=>{a&&e.unobserve(a)}},[s,n]),e.useEffect(()=>{if(!g||!u.current)return;const e=()=>{if(!u.current)return;const e=window.scrollY,a=window.innerHeight,s=u.current.offsetTop,r=Math.max(0,Math.floor((e-s)/350)-5),i=Math.min(t.length,Math.ceil((e-s+a)/350)+5);b({start:r,end:i})};return e(),window.addEventListener("scroll",e),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[g,t?.length]);const y=e.useCallback(e=>{x(e)},[]),f=e.useMemo(()=>g&&t?t.slice(p.start,p.end):t||[],[t,g,p.start,p.end]);return r?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96 p-8",children:[a.jsx(i,{className:"w-12 h-12 text-rose-500 mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"حدث خطأ"}),a.jsx("p",{className:"text-neutral-600 text-center mb-6",children:r}),a.jsx("button",{onClick:h,className:"px-6 py-3 bg-gradient-to-r from-violet-500 to-indigo-500 \n                              text-white rounded-xl hover:from-violet-600 hover:to-indigo-600 \n                              transition-all duration-300 shadow-lg shadow-indigo-100/50",children:"إعادة المحاولة"})]}):!s||t&&0!==t.length?a.jsxs("div",{className:"",ref:u,children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6 p-6",style:{minHeight:g?175*t.length:"auto"},children:[g&&p.start>0&&a.jsx("div",{style:{gridColumn:"span 2",height:175*p.start}}),f.map(e=>a.jsx(ye,{product:e,onSelect:y,checkAuthAndProceed:c},e.id))]}),s&&a.jsx("div",{ref:d,className:"flex items-center justify-center p-6",children:a.jsx("div",{className:"p-3 bg-white rounded-xl shadow-lg shadow-indigo-100/30",children:a.jsx(l,{className:"w-8 h-8 text-indigo-500 animate-spin"})})}),m&&a.jsx(ve,{product:m,isOpen:!!m,onClose:()=>x(null),checkAuthAndProceed:c})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96 \n                          bg-gradient-to-b from-white to-gray-50",children:[a.jsx(l,{className:"w-12 h-12 text-indigo-500 animate-spin"}),a.jsx("p",{className:"text-neutral-600 mt-4 font-medium",children:"جاري تحميل المنتجات..."})]})},(e,a)=>{if(e.products!==a.products){if(e.products?.length!==a.products?.length)return!1;for(let t=0;t<e.products.length;t++)if(e.products[t].id!==a.products[t].id)return!1}return e.loading===a.loading&&e.error===a.error&&e.onLoadMore===a.onLoadMore&&e.onProductSelect===a.onProductSelect&&e.checkAuthAndProceed===a.checkAuthAndProceed});fe.displayName="ProductGrid";const ve=e.memo(({product:t,isOpen:s,onClose:i,checkAuthAndProceed:c})=>{const{getFavoriteStatus:m,toggleFavorite:x,isPending:u}=K(),b=m(t?.id),g=u(t?.id),{addToCart:y}=e.useContext(Q),[f,v]=e.useState(null),[j,w]=e.useState(null),[N,k]=e.useState(1),[P,L]=e.useState(0),[z,O]=e.useState(!1),[A,M]=e.useState(!0);e.useEffect(()=>{if(s&&t){const e=t.variants[0];if(v(e),w(null),k(1),L(0),e){const a=e.images||[];he.preloadBatch(a,[a[0]]);const s=t.variants.filter(a=>a.id!==e.id).map(e=>e.images[0]);s.length>0&&(window.requestIdleCallback?window.requestIdleCallback(()=>{he.preloadBatch(s)}):setTimeout(()=>{he.preloadBatch(s)},1e3))}}},[s,t]);const E=e.useCallback(()=>{M(!1)},[]),F=e.useCallback(async()=>{t&&await c({requiresAuth:!0,onSuccess:async()=>{await x(t.id)}})},[c,t,x]),$=e.useCallback(e=>{if(!e||e.id===f?.id)return;M(!0);const a=e.images||[];a.length>0?he.preload(a[0]).then(()=>{v(e),w(null),L(0),M(!1),a.length>1&&he.preloadBatch(a.slice(1))}).catch(()=>{v(e),w(null),L(0),M(!1)}):(v(e),w(null),L(0),M(!1))},[f]),D=e.useCallback(()=>{t&&f&&j?(y(t,f,j.size,N),h.success("تم إضافة المنتج للسلة"),i()):h.error("يرجى اختيار المقاس")},[t,f,j,N,y,i]);if(!t||!s)return null;const V=(B=t.basePrice,(q=t.discountPrice)?Math.round((B-q)/B*100):null);var B,q;return a.jsxs(a.Fragment,{children:[a.jsx(te,{isOpen:s,onClose:i,title:"تفاصيل المنتج",children:a.jsxs("div",{className:"p-6 space-y-6 bg-neutral-50",dir:"rtl",children:[a.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden shadow-lg",children:[f&&a.jsx(n,{mode:"wait",children:a.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"w-full h-full",children:[a.jsx(ge,{src:f.images[P],alt:t.name,className:"w-full h-full cursor-zoom-in",onLoad:E,loadingClass:"bg-neutral-100/80 backdrop-blur-sm",fallback:a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-neutral-100",children:a.jsx("div",{className:"text-neutral-400",children:"صورة غير متوفرة"})})}),a.jsx("div",{className:"absolute inset-0",onClick:()=>O(!0)})]},`${f.id}-${P}`)}),f?.images.length>1&&a.jsx("div",{className:"absolute bottom-4 inset-x-4 flex justify-center gap-2",children:f.images.map((e,t)=>a.jsx("button",{onClick:()=>L(t),className:"w-2 h-2 rounded-full transition-all\n                                        "+(P===t?"bg-primary-500 w-4":"bg-white/80")},t))}),a.jsxs("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm \n                                     rounded-xl p-3 text-right shadow-md",children:[a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-2xl font-bold text-gray-900",children:xe(t.discountPrice||t.basePrice)}),t.discountPrice&&a.jsx("span",{className:"text-sm text-neutral-400 line-through",children:xe(t.basePrice)})]}),V&&a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(T,{className:"w-4 h-4 text-rose-500"}),a.jsxs("span",{className:"text-rose-500 text-sm font-medium",children:["خصم ",V,"%"]})]})]}),a.jsx("button",{onClick:F,className:"absolute top-4 left-4 p-2 rounded-full \n                                backdrop-blur-sm transition-all shadow-md\n                                "+(b?"bg-rose-100":"bg-white/90 hover:bg-rose-50"),children:g?a.jsx(l,{className:"w-5 h-5 text-rose-500 animate-spin"}):a.jsx(d,{className:"w-5 h-5 transition-transform\n                                    "+(b?"text-rose-500 fill-rose-500 scale-110":"text-neutral-700")})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[t.rating>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(p,{className:"w-5 h-5 text-blue-400 fill-blue-400"}),a.jsx("span",{className:"text-gray-900 font-bold",children:t.rating.toFixed(1)})]}),t.ratingCount>0&&a.jsxs("span",{className:"text-neutral-500 text-sm",children:["(",t.ratingCount," تقييم)"]})]}),t.salesCount>0&&a.jsxs("span",{className:"text-sm text-neutral-500",children:[t.salesCount," عملية شراء"]})]}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),t.description&&a.jsx("p",{className:"text-neutral-600 leading-relaxed",children:t.description})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(X,{className:"w-5 h-5 text-primary-500"}),a.jsx("h3",{className:"font-bold text-gray-900",children:"اللون"})]}),a.jsx("span",{className:"text-sm text-neutral-600",children:f?.colorName})]}),a.jsx(ue,{variants:t.variants,selectedVariant:f,onVariantSelect:$,showCollapsed:!1})]}),f?.sizes?.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(I,{className:"w-5 h-5 text-primary-500"}),a.jsx("h3",{className:"font-bold text-gray-900",children:"المقاس"})]}),a.jsx("span",{className:"text-sm text-neutral-600",children:j?.size||"اختر المقاس"})]}),a.jsx(pe,{sizes:f.sizes,selectedSize:j,onSizeSelect:w})]}),t.features?.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 p-2",children:[a.jsx(r,{className:"w-5 h-5 text-primary-500"}),a.jsx("h3",{className:"font-bold text-gray-900",children:"مميزات المنتج"})]}),a.jsx("div",{className:"space-y-2",children:t.features.map((e,t)=>a.jsxs("div",{className:"bg-white rounded-xl p-3 \n                                         flex items-center gap-3 shadow-sm border border-gray-100",children:[a.jsx("div",{className:"w-8 h-8 rounded-xl bg-primary-50\n                                             flex items-center justify-center flex-shrink-0",children:a.jsx(r,{className:"w-4 h-4 text-primary-500"})}),a.jsx("span",{className:"text-neutral-700",children:e})]},t))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>k(e=>Math.max(1,e-1)),className:"w-10 h-10 rounded-xl bg-neutral-50 text-neutral-700 flex items-center justify-center hover:bg-neutral-100 transition-colors border border-neutral-200",children:a.jsx(H,{className:"w-4 h-4"})}),a.jsx("span",{className:"text-xl font-bold text-gray-900 w-8 text-center",children:N}),a.jsx("button",{onClick:()=>k(e=>e+1),className:"w-10 h-10 rounded-xl bg-neutral-50 text-neutral-700 flex items-center justify-center hover:bg-neutral-100 transition-colors border border-neutral-200",children:a.jsx(Y,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-neutral-500",children:"السعر الإجمالي"}),a.jsx("span",{className:"text-xl font-bold text-primary-500",children:xe((t.discountPrice||t.basePrice)*N)})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl p-4 space-y-3 shadow-sm border border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(R,{className:"w-5 h-5 text-primary-500"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"متطلبات الشراء"})]}),a.jsxs("div",{className:"flex gap-2 items-center justify-center",children:[a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1.5 rounded-lg "+(f?"bg-green-50 text-green-600":"bg-neutral-50 text-neutral-500"),children:[a.jsx(X,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",children:"اللون"}),f&&a.jsx(r,{className:"w-3.5 h-3.5"})]}),a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1.5 rounded-lg "+(j?"bg-green-50 text-green-600":"bg-neutral-50 text-neutral-500"),children:[a.jsx(I,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",children:"المقاس"}),j&&a.jsx(r,{className:"w-3.5 h-3.5"})]}),a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1.5 rounded-lg bg-green-50 text-green-600",children:[a.jsx(_,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",children:"الكمية"}),a.jsx(r,{className:"w-3.5 h-3.5"})]})]})]}),a.jsxs("button",{onClick:D,disabled:!j,className:"w-full bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-xl py-4 font-bold hover:brightness-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-md",children:[a.jsx(S,{className:"w-5 h-5"}),a.jsx("span",{children:"إضافة للسلة"})]})]}),a.jsxs("button",{onClick:()=>window.open("https://wa.me/+201033939828","_blank"),className:"w-full bg-success-50 text-success-600 rounded-xl p-4 \n                               flex items-center justify-center gap-2 hover:brightness-105 \n                               transition-all shadow-sm border border-success-100",children:[a.jsx(C,{className:"w-5 h-5"}),a.jsx("span",{children:"تحتاج مساعدة؟ تواصل معنا"})]})]})}),z&&f&&a.jsx(me,{isOpen:z,onClose:()=>O(!1),imageUrl:f.images[P],className:"bg-white",onBeforeShow:()=>he.preload(f.images[P])})]})});ve.displayName="ProductSheet";const je=w.memo(({icon:e=S,title:t="لا توجد منتجات",description:s="لم نتمكن من العثور على منتجات في هذه الفئة"})=>a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-6 min-h-[500px] bg-gradient-to-br from-primary-50/30 via-white to-primary-50/20",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-primary-100/20 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-24 h-24 bg-primary-200/20 rounded-full blur-2xl animate-pulse delay-1000"}),a.jsx("div",{className:"absolute top-1/2 right-1/3 w-16 h-16 bg-primary-300/20 rounded-full blur-xl animate-pulse delay-500"})]}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center max-w-md mx-auto",children:[a.jsxs("div",{className:"relative mb-8",children:[a.jsx("div",{className:"w-28 h-28 rounded-3xl bg-gradient-to-br from-primary-500/10 via-primary-400/10 to-primary-600/10 \n                      flex items-center justify-center shadow-2xl shadow-primary-500/10 border border-primary-200/30\n                      backdrop-blur-sm",children:a.jsx(e,{className:"w-14 h-14 text-primary-600"})}),a.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full \n                      flex items-center justify-center shadow-lg animate-bounce",children:a.jsx(V,{className:"w-3 h-3 text-white"})}),a.jsx("div",{className:"absolute -bottom-2 -left-2 w-5 h-5 bg-gradient-to-br from-primary-400 to-primary-500 rounded-full \n                      flex items-center justify-center shadow-lg animate-bounce delay-300",children:a.jsx(B,{className:"w-2.5 h-2.5 text-white"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-3xl font-bold text-neutral-800 leading-tight",children:t}),a.jsx("p",{className:"text-neutral-600 text-lg leading-relaxed max-w-sm mx-auto",children:s})]}),a.jsx("div",{className:"mt-8 w-24 h-1 bg-gradient-to-r from-transparent via-primary-400 to-transparent rounded-full"})]})]}));je.displayName="EmptyState";const we=w.memo(({products:e,productsLoading:t,selectedCategory:s,totalPages:r,loadMore:i,onProductSelect:l,checkAuthAndProceed:n,updateFilters:o,setPage:c,setSelectedCategory:d})=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"px-6 pt-4 flex items-center justify-between",dir:"rtl",children:[a.jsx("h2",{className:"text-lg font-bold text-slate-800",children:(e=>{switch(e){case"all":return"كل المنتجات";case"women":return"منتجات حريمي";case"men":return"منتجات رجالي";default:return`منتجات ${e}`}})(s)}),e.length>0&&a.jsx("div",{className:"text-sm text-slate-600",children:r>1?`${e.length} من ${r*e.length}`:`${e.length} منتج`})]}),t||0!==e.length?a.jsx(fe,{products:e,loading:t,onLoadMore:i,onProductSelect:l,checkAuthAndProceed:n,currentCategory:s}):a.jsx(je,{title:"لا توجد منتجات",description:"لم نتمكن من العثور على منتجات في هذه الفئة"})]}));we.displayName="ProductSection";const Ne=({status:e})=>{const t={pending:{icon:M,text:"قيد التنفيذ",class:"bg-gradient-to-r from-primary-50 to-primary-100 text-primary-600 border-primary-200",iconClass:"text-primary-500",shadowClass:"shadow-primary-200/20"},processing:{icon:c,text:"جاري التجهيز",class:"bg-gradient-to-r from-primary-50 to-primary-100 text-primary-600 border-primary-200",iconClass:"text-primary-500",shadowClass:"shadow-primary-200/20"},shipping:{icon:P,text:"في الطريق",class:"bg-gradient-to-r from-warning-50 to-warning-100 text-warning-600 border-warning-200",iconClass:"text-primary-500",shadowClass:"shadow-warning-200/20"},delivered:{icon:L,text:"تم التوصيل",class:"bg-gradient-to-r from-success-50 to-success-100 text-success-600 border-success-200",iconClass:"text-success-500",shadowClass:"shadow-success-200/20"},cancelled:{icon:N,text:"ملغي",class:"bg-gradient-to-r from-error-50 to-error-100 text-error-600 border-error-200",iconClass:"text-error-500",shadowClass:"shadow-error-200/20"}},s=t[e]||t.pending,r=s.icon;return a.jsxs("div",{className:`px-4 py-2 rounded-2xl text-sm inline-flex items-center gap-2 \n                    border shadow-sm hover:shadow-md transition-all duration-300\n                    backdrop-blur-xl ${s.class} ${s.shadowClass}`,children:[a.jsx(r,{className:`w-4 h-4 ${s.iconClass}`}),a.jsx("span",{className:"font-medium",children:s.text})]})},Ce=({order:e,onSelect:t})=>{return a.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"group cursor-pointer",onClick:()=>t(e),children:a.jsxs("div",{className:"relative overflow-hidden backdrop-blur-xl rounded-3xl \r\n                    border border-neutral-200 bg-gradient-to-b from-white to-gray-50 p-5\r\n                    hover:border-gray-300 hover:shadow-lg\r\n                    transition-all duration-500",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-100/20 to-indigo-100/20 \r\n                      opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx(Ne,{status:e.status}),a.jsxs("div",{className:"flex items-center gap-2 text-primary-600",children:[a.jsx(q,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:(r=e.createdAt,new Date(r).toLocaleDateString("ar-EG",{month:"long",day:"numeric"}))})]})]}),a.jsx("div",{className:"flex gap-3 mb-6 overflow-x-auto hide-scrollbar py-2",children:e.items.map((e,t)=>a.jsxs("div",{className:"relative flex-shrink-0 group/item",children:[a.jsx("div",{className:"w-20 h-20 rounded-2xl overflow-hidden border-2 border-primary-200\r\n                              group-hover:border-primary-300 transition-all duration-500\r\n                              shadow-sm group-hover:shadow-md",children:a.jsx("img",{src:e.image||"http://localhost:5000/uploads/3fdf62c5-d260-4c86-8a24-617fe4035232.png",alt:e.productName,className:"w-full h-full object-cover transform group-hover/item:scale-110 \r\n                             transition-transform duration-500"})}),a.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 rounded-full \r\n                              bg-gradient-to-r from-primary-500 to-primary-600\r\n                              flex items-center justify-center text-xs font-bold text-white\r\n                              shadow-md shadow-primary-400/25",children:e.quantity})]},t))}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-primary-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-xl bg-primary-100",children:a.jsx(S,{className:"w-4 h-4 text-primary-500"})}),a.jsxs("span",{className:"text-primary-600 text-sm",children:[e.totalQuantity," منتج"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-primary-500 font-bold text-lg",children:(s=e.total,new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0,maximumFractionDigits:0}).format(s))}),a.jsx(U,{className:"w-4 h-4 text-primary-500 transform \r\n                                     group-hover:translate-x-1 group-hover:-translate-y-1\r\n                                     transition-transform duration-300"})]})]})]})]})});var s,r},ke=({steps:t})=>{const s={pending:M,processing:c,shipping:P,delivered:L,cancelled:N},r=e.useMemo(()=>[...t].sort((e,a)=>new Date(a.timestamp)-new Date(e.timestamp)).map((e,a,t)=>({...e,isLatest:0===a,isOldest:a===t.length-1})),[t]);return a.jsxs("div",{className:"relative py-4 px-4",children:[a.jsxs("div",{className:"absolute right-12 w-0 overflow-hidden h-full",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-primary-300/0 via-primary-400/50 to-primary-300/0"}),a.jsx(o.div,{className:"absolute inset-0 bg-gradient-to-b from-primary-300/0 via-primary-400 to-primary-300/0",animate:{y:["0%","200%"],opacity:[0,1,0]},transition:{duration:3,repeat:1/0,ease:"linear"}})]}),r.map((e,t)=>{const i=e.completed,l=t===r.length-1,n=s[e.status]||M;return a.jsx(o.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.15*t},className:"relative "+(l?"":"mb-6"),children:a.jsxs("div",{className:"relative flex gap-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(o.div,{className:`w-8 h-8 rounded-xl relative z-10\n                           flex items-center justify-center\n                           transition-all duration-500 \n                           border-2 ${i?"bg-gradient-to-br from-primary-400 to-primary-500 border-primary-300":"bg-gradient-to-br from-white to-primary-50 border-primary-200"}\n                           'ring-4 ring-primary-200/50'\n                           shadow-lg shadow-primary-200/20 hover:shadow-xl hover:shadow-primary-300/30`,whileHover:{scale:1.1},whileTap:{scale:.95},children:a.jsx(n,{className:"w-4 h-4 text-primary-400"})}),!l&&a.jsx("div",{className:"absolute top-8 right-4 bottom-0 w-px bg-gradient-to-b from-primary-200 to-transparent"})]}),a.jsxs(o.div,{className:`flex-1 p-4 rounded-2xl backdrop-blur-xl\n                         border transition-all duration-300\n                         bg-gradient-to-br from-primary-50 to-white border-primary-200\n                         ${e.isLatest,"shadow-lg shadow-primary-200/30"}\n                         hover:shadow-xl hover:shadow-primary-300/20\n                         group`,whileHover:{scale:1.02,x:5},transition:{duration:.2},children:[a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full mb-2\n                              text-sm font-medium backdrop-blur-xl\n                              bg-gradient-to-r from-primary-100 to-primary-50 text-primary-600\n                              shadow-sm group-hover:shadow-md transition-all duration-300",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-500 animate-pulse"}),a.jsx("span",{children:e.description})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(q,{className:"w-4 h-4 "+(i?"text-primary-500":"text-slate-400")}),a.jsx("span",{className:(i?"text-primary-900":"text-slate-500")+" text-sm",children:new Intl.DateTimeFormat("ar-EG",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e.timestamp))})]}),!e.isLatest&&a.jsx("div",{className:"mt-2 text-xs text-primary-400 opacity-0 group-hover:opacity-100 transition-opacity",children:Se(e.timestamp)})]})]})},t)})]})},Se=e=>{const a=new Date(e),t=new Date,s=Math.floor((t-a)/1e3),r=Math.floor(s/60),i=Math.floor(r/60),l=Math.floor(i/24);return l>0?`${l} days ago`:i>0?`${i} hours ago`:r>0?`${r} minutes ago`:"Just now"},Pe=()=>{const e=[{icon:C,label:"محادثة واتساب",color:"text-primary-600",gradient:"from-primary-50/80 via-primary-100/50 to-white",onClick:()=>window.open("https://wa.me/+201033939828","_blank")},{icon:s,label:"اتصل بنا",color:"text-primary-600",gradient:"from-primary-50/80 via-primary-100/50 to-white",onClick:()=>window.open("tel:+201033939828","_blank")}];return a.jsx("div",{className:"grid grid-cols-2 gap-4 p-6 pt-0",children:e.map((e,t)=>a.jsxs(o.button,{whileHover:{scale:1.03,y:-3},whileTap:{scale:.97},onClick:e.onClick,className:`bg-gradient-to-br ${e.gradient} \n                     rounded-2xl p-4 flex flex-col items-center gap-3\n                     border border-primary-200/60 backdrop-blur-xl \n                     shadow-lg shadow-primary-200/30\n                     hover:shadow-xl hover:border-primary-300/60\n                     transition-all duration-300 group`,children:[a.jsx(o.div,{className:`p-3 rounded-xl bg-gradient-to-br from-white to-primary-50 ${e.color}\n                       group-hover:scale-110 transition-all duration-300 \n                       shadow-md shadow-primary-200/40 ring-1 ring-primary-100`,whileHover:{rotate:[0,-10,10,-10,0]},transition:{duration:.5},children:a.jsx(e.icon,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-sm text-primary-900 font-medium",children:e.label})]},t))})},Le=({order:e,onCancel:t})=>{if(!e)return null;const s=e=>new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return a.jsxs("div",{className:"space-y-8 pt-8 pb-0",dir:"rtl",children:[e.tracking&&e.tracking.length>0&&a.jsx(ke,{steps:e.tracking}),a.jsxs("div",{className:"px-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-bold text-primary-900",children:"المنتجات"}),a.jsxs("span",{className:"text-sm text-primary-600",children:[e.totalQuantity," منتج"]})]}),a.jsx("div",{className:"space-y-4",dir:"ltr",children:e.items.map((e,t)=>a.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"group bg-gradient-to-br from-primary-50 via-white to-primary-50\r\n                       backdrop-blur-xl rounded-2xl p-4 border border-primary-200\r\n                       shadow-lg shadow-primary-200/20 hover:shadow-xl \r\n                       hover:shadow-primary-300/20 transition-all duration-300",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"relative w-24 h-24 rounded-xl overflow-hidden border-2 border-primary-200\r\n                              group-hover:border-primary-300 transition-all duration-300 shadow-md",children:[a.jsx("img",{src:e.image,alt:e.productName,className:"w-full h-full object-cover transform group-hover:scale-110 \r\n                             transition-transform duration-500"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary-900/30 to-transparent"}),a.jsxs("div",{className:"absolute bottom-2 right-2 bg-primary-900/40 backdrop-blur-md\r\n                                rounded-full px-2 py-1 text-xs text-white shadow-lg",children:[e.quantity,"×"]})]}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-bold text-primary-500",children:s(e.totalPrice)}),a.jsxs("div",{className:"text-right",children:[a.jsx("h4",{className:"font-bold text-primary-900 mb-1",children:e.productName}),a.jsx("p",{className:"text-sm text-primary-600",children:e.variant}),a.jsx("p",{className:"text-sm text-primary-400 mt-1",children:e.size})]})]})})]})},t))})]}),a.jsx("div",{className:"px-6",children:a.jsxs("div",{className:"bg-gradient-to-br from-primary-50 via-white to-primary-50 backdrop-blur-xl\r\n                     rounded-2xl p-5 border border-primary-200 space-y-4 shadow-lg shadow-primary-200/20\r\n                     hover:shadow-xl hover:shadow-primary-300/20 transition-all duration-300",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-primary-600",children:"المجموع"}),a.jsx("span",{className:"text-primary-900",children:s(e.subtotal)})]}),e.coupon&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(T,{className:"w-4 h-4 text-teal-500"}),a.jsxs("span",{className:"text-teal-600",children:["كوبون ",e.coupon.code]}),a.jsxs("span",{className:"text-sm text-teal-500",children:["(","percentage"===e.coupon.discountType?`${e.coupon.discountValue}%`:s(e.coupon.discountValue),")"]})]}),a.jsxs("span",{className:"text-teal-500 font-medium",children:["- ",s(e.discount)]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-primary-600",children:"الشحن"}),a.jsx("span",{className:"text-primary-500 font-medium",children:0===e.shippingFee?"مجاناً":s(e.shippingFee)})]}),a.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-primary-200 to-transparent"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-primary-900",children:"الإجمالي"}),a.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary-500 to-primary-600 \r\n                           bg-clip-text text-transparent",children:s(e.total)})]})]})}),["pending","processing"].includes(e.status)&&a.jsx("div",{className:"px-6 pt-4 pb-0",children:a.jsx(o.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t(e.id),className:"w-full bg-gradient-to-r from-rose-50 to-rose-100\r\n                         text-rose-600 rounded-2xl py-4 px-6 font-medium\r\n                         shadow-lg shadow-rose-200/20 hover:shadow-xl\r\n                         hover:shadow-rose-300/20 transition-all duration-300\r\n                         border border-rose-200 backdrop-blur-xl",children:"إلغاء الطلب"})}),a.jsx(Pe,{})]})},ze=({onClose:t,initialOrderId:s=null})=>{const{orders:r,loading:l,error:d,fetchOrders:m,cancelOrder:x}=W(),[h,u]=e.useState(null),[p,b]=e.useState("all"),[g,y]=e.useState(!0);if(e.useRef(0),e.useEffect(()=>{if(s&&r.length){const e=r.find(e=>e.id===s);e&&u(e)}},[r,s]),l)return a.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-white z-50 flex items-center justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-primary-300/30 \r\n                       animate-spin border-t-primary-500 shadow-lg"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(c,{className:"w-6 h-6 text-primary-500"})})]})});if(d)return a.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-white z-50 flex items-center justify-center p-4",dir:"rtl",children:a.jsxs("div",{className:"max-w-md w-full bg-gradient-to-br from-white to-primary-50 backdrop-blur-xl \r\n                     rounded-3xl p-8 border border-primary-200 text-center shadow-xl shadow-primary-200/20",children:[a.jsx(i,{className:"w-16 h-16 text-rose-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-primary-900 mb-2",children:"حدث خطأ"}),a.jsx("p",{className:"text-primary-600 mb-6",children:d}),a.jsx(o.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:m,className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white \r\n                     rounded-xl px-6 py-3 font-medium shadow-lg shadow-primary-500/25 \r\n                     hover:shadow-xl hover:shadow-primary-500/30 \r\n                     transition-all duration-300",children:"إعادة المحاولة"})]})});const f=r.filter(e=>"all"===p||e.status===p);return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-white z-40",children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs(o.div,{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-xl border-b border-primary-100\r\n                      shadow-sm",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[a.jsx("div",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(o.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"p-2 rounded-xl bg-primary-50 text-primary-500 \r\n                           hover:bg-primary-100 transition-colors",children:a.jsx(N,{className:"w-5 h-5"})}),a.jsx("h2",{className:"text-xl font-bold text-primary-900",children:"طلباتي"}),a.jsx("div",{className:"w-9"})]})}),a.jsx(o.div,{className:"px-4 pb-4 overflow-hidden",animate:{height:g?"auto":0},transition:{duration:.3},children:a.jsx("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar py-1",children:[{id:"all",label:"الكل"},{id:"pending",label:"قيد التنفيذ"},{id:"processing",label:"جاري التجهيز"},{id:"shipping",label:"في الطريق"},{id:"delivered",label:"تم التوصيل"},{id:"cancelled",label:"ملغي"}].map((e,t)=>a.jsx(o.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},onClick:()=>b(e.id),className:"px-4 py-2 rounded-xl text-sm whitespace-nowrap transition-all\n                              shadow-sm "+(p===e.id?"bg-gradient-to-r from-primary-500 to-primary-600 text-white font-medium shadow-lg shadow-primary-500/25":"bg-primary-50 text-primary-600 hover:bg-primary-100"),children:e.label},e.id))})})]}),a.jsx("div",{className:"flex-1 overflow-auto hide-scrollbar",children:a.jsx("div",{className:"px-4 py-4 space-y-4",children:a.jsx(n,{mode:"popLayout",children:f.length>0?f.map((e,t)=>a.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.05*t},children:a.jsx(Ce,{order:e,onSelect:u})},e.id)):a.jsxs(o.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center py-16 px-6 min-h-[400px] bg-gradient-to-br from-primary-50/30 via-white to-primary-50/20 rounded-2xl",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none rounded-2xl",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-24 h-24 bg-primary-100/20 rounded-full blur-2xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-20 h-20 bg-primary-200/20 rounded-full blur-xl animate-pulse delay-1000"})]}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center max-w-sm mx-auto",children:[a.jsx("div",{className:"relative mb-6",children:a.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-primary-500/10 via-primary-400/10 to-primary-600/10 \r\n                                      flex items-center justify-center shadow-xl shadow-primary-500/10 border border-primary-200/30\r\n                                      backdrop-blur-sm",children:a.jsx(c,{className:"w-10 h-10 text-primary-600"})})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-2xl font-bold text-neutral-800 leading-tight",children:"لا توجد طلبات"}),a.jsx("p",{className:"text-neutral-600 text-base leading-relaxed",children:"ابدأ التسوق الآن واستمتع بمجموعتنا المميزة"})]}),a.jsx("div",{className:"mt-6 w-16 h-0.5 bg-gradient-to-r from-transparent via-primary-400 to-transparent rounded-full"}),a.jsx(o.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"mt-6 bg-gradient-to-r from-primary-500 to-primary-600 \r\n                                 text-white rounded-2xl px-8 py-3 font-medium\r\n                                 shadow-lg shadow-primary-500/25 hover:shadow-xl \r\n                                 hover:shadow-primary-500/30 transition-all duration-300",children:"تسوق الآن"})]})]})})})})]})}),a.jsx(te,{isOpen:!!h,onClose:()=>u(null),title:"تفاصيل الطلب",children:a.jsx(Le,{order:h,onCancel:x})})]})},Oe=({onClose:t,onProductSelect:s,checkAuthAndProceed:r})=>{const{favorites:i,loading:l}=K(),[n,c]=e.useState(!1),[m,x]=e.useState(null);e.useRef(!1);const h=e.useCallback(()=>{c(!0),setTimeout(t,200)},[t]);return l&&0===i.length?a.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-white z-40 flex items-center justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-primary-200 \r\n                       animate-spin border-t-primary-500 shadow-lg"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(d,{className:"w-6 h-6 text-primary-500"})})]})}):a.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-white z-40",children:[a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-xl border-b border-neutral-200 shadow-sm",children:a.jsx("div",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(o.button,{onClick:h,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-xl bg-neutral-50 text-slate-600 \r\n                         hover:bg-neutral-100 hover:text-slate-800 transition-all duration-200",children:a.jsx(N,{className:"w-6 h-6"})}),a.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"المفضلة"}),a.jsx("div",{className:"w-10"})," "]})})}),a.jsx(o.div,{className:"flex-1 overflow-auto pb-8",initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},transition:{duration:.2},children:a.jsx("div",{className:"p-4 space-y-4",children:i.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:i.map(e=>a.jsx(ye,{product:e,onSelect:()=>{x(e),s?.(e)},checkAuthAndProceed:r},e.id))}),l&&a.jsx("div",{className:"flex justify-center py-4",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-10 h-10 rounded-full border-3 border-primary-200 \r\n                                   animate-spin border-t-primary-500"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(d,{className:"w-4 h-4 text-primary-500"})})]})})]}):a.jsxs(o.div,{className:"flex flex-col items-center justify-center py-16 px-6 min-h-[400px] bg-gradient-to-br from-primary-50/30 via-white to-primary-50/20 rounded-2xl",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none rounded-2xl",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-24 h-24 bg-primary-100/20 rounded-full blur-2xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-20 h-20 bg-primary-200/20 rounded-full blur-xl animate-pulse delay-1000"})]}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center max-w-sm mx-auto",children:[a.jsx("div",{className:"relative mb-6",children:a.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-primary-500/10 via-primary-400/10 to-primary-600/10 \r\n                                  flex items-center justify-center shadow-xl shadow-primary-500/10 border border-primary-200/30\r\n                                  backdrop-blur-sm",children:a.jsx(d,{className:"w-10 h-10 text-primary-600"})})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-2xl font-bold text-neutral-800 leading-tight",children:"قائمة المفضلة فارغة"}),a.jsx("p",{className:"text-neutral-600 text-base leading-relaxed",children:"اكتشف منتجاتنا وأضف ما يعجبك إلى المفضلة"})]}),a.jsx("div",{className:"mt-6 w-16 h-0.5 bg-gradient-to-r from-transparent via-primary-400 to-transparent rounded-full"}),a.jsx(o.button,{onClick:h,whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-6 btn-primary",children:"تسوق الآن"})]})]})})})]}),m&&a.jsx(ProductSheet,{product:m,isOpen:!0,onClose:()=>x(null),checkAuthAndProceed:r})]})},Ae=w.memo(({uiState:e,userInfo:t,isLoading:s,onCloseModal:r,onPhoneVerification:i,onLocationUpdate:l,onProductSelect:o,checkAuthAndProceed:c})=>a.jsxs(n,{mode:"wait",children:[e.showProfile&&a.jsx(se,{isOpen:!0,onClose:()=>r("showProfile"),onOpenOrders:()=>{r("showProfile"),r("showOrders",!0)},onOpenFavorites:()=>{r("showProfile"),r("showFavorites",!0)},onOpenLocation:()=>{r("showProfile"),r("showLocation",!0)},onOpenLogin:()=>{r("showProfile"),r("showLogin",!0)}}),e.selectedProduct&&a.jsx(ve,{product:e.selectedProduct,isOpen:!0,onClose:()=>r("selectedProduct"),checkAuthAndProceed:c}),e.showOrders&&a.jsx(ze,{onClose:()=>r("showOrders"),initialOrderId:e.newOrderId}),e.showFavorites&&a.jsx(Oe,{onClose:()=>r("showFavorites"),onProductSelect:o,checkAuthAndProceed:c}),e.showLogin&&a.jsx(ne,{isOpen:!0,onClose:()=>r("showLogin"),onVerified:i,isLoading:s,isLogin:!0}),e.showLocation&&a.jsx(le,{isOpen:!0,onClose:()=>r("showLocation"),onUpdate:l,initialAddress:t?.addresses?.[0],isLoading:s})]}));Ae.displayName="ModalManager";export{te as B,je as E,de as F,Ae as M,ne as P,we as a};
